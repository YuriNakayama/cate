import mlflow
import mlflow.system_metrics
import numpy as np
import pandas as pd
from mlflow.models import EvaluationArtifact, EvaluationMetric, MetricValue


class Auuc(EvaluationMetric):
    def __init__(self):
        super().__init__(
            name="auuc",
            description="Area under the uplift curve",
            data_type=MetricValue.FLOAT,
            is_higher_better=True,
        )
    def eval_fn(
        self,
        predictions: pd.Series,
        targets: pd.Series,
        metrics: dict[str, MetricValue],
        **kwargs,
    ) -> float | MetricValue:
        return 1.0
